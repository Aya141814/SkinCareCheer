# 継続記録の詳細ページ
<div class="container mx-auto px-4 py-8">
    <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold mb-6">継続記録</h1>

        <div class="mb-8">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h2 class="text-xl font-semibold">
                        <% if @streak.active? %>
                        <span class="text-green-600"><%= @streak.current_streak %>日継続中！</span>
                        <% else %>
                        <span class="text-gray-600">前回の記録：<%= @streak.current_streak %>日</span>
                        <% end %>
                    </h2>
                    <p class="text-gray-600 mt-1">
                        開始日: <%= l @streak.start_date if @streak.start_date.present? %>
                    </p>
                </div>

                <div class="text-right">
                    <% if @streak.days_since_last_post > 0 %>
                    <p class="text-gray-500">
                        最終投稿から<%= @streak.days_since_last_post %>日経過
                    </p>
                    <% end %>
                    <p class="text-gray-600">
                        最終投稿日: <%= l @streak.end_date if @streak.end_date.present? %>
                    </p>
                </div>
            </div>
        </div>

        <div class="border-t pt-6">
            <h3 class="text-lg font-semibold mb-4">最近の投稿</h3>
            <% @recent_posts.each do |post| %>
            <div class="border-b last:border-b-0 py-4">
                <div class="flex justify-between items-start">
                    <div>
                        <h4 class="font-medium"><%= post.title %></h4>
                        <p class="text-gray-600 text-sm mt-1">
                            <%= l post.created_at, format: :long %>
                        </p>
                    </div>
                    <%= link_to "詳細を見る", board_path(post), class: "text-blue-600 hover:text-blue-800 text-sm" %>
                </div>
            </div>
            <% end %>
        </div>
    </div>
</div>

<h1><%= params[:category_name] || 'スキンケア' %> の継続記録</h1>

<p>現在の継続日数: <strong><%= @streak.current_streak %></strong> 日</p>
<p>最後に記録した日: <%= @streak.end_date || 'まだ記録がありません' %></p>

<div>
    <%= link_to '新しい記録を作成', new_board_path(category_name: params[:category_name]), class: 'btn btn-primary' %>
</div>
<div>
    <%= link_to 'ホームに戻る', root_path, class: 'btn btn-secondary' %>
</div>